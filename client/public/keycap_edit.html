<html>
    <head>
        <link rel="stylesheet" href="style/default.css"/>
        <script src="script/vue.js"></script>
    </head>
    <body>
        <!--##########################################-->
        <div id="header">
            <div style="font-weight:bold;">
                Keycap Nation
            </div>
            <div>
                <input type="text" placeholder="Search"/>
                <input type="button" value="Go"/>
            </div>
            <div style="text-align:right;">
                <input type="button" value="Login"/>
            </div>
        </div>
        <!--##########################################-->
        <div id="content">

            <div class="section" style="padding:.5em;" id="cap-view-section">

                <!-- Section Header -->
                <div style="display:flex;">
                    <!-- Cap Name -->
                    <div style="flex-grow:1;">
                        <span style="font-weight:bold;">{{keycap.name}}</span>
                        <span>by</span>
                        <a href="#">{{keycap.maker}}</a>
                    </div>
                    <!-- Edit Button -->
                    <div style="padding:.5em;">
                        <input type="button" value="Edit"/>
                    </div>
                </div>

                <!-- Section Body -->
                <div style="display:flex;">
                    <!-- Image -->
                    <div style="text-align:center;margin:0 1em;">
                        <image style="width:128px;height:128px;border:1px solid black;" :src="imageURL"/>
                        <br/>
                        <!-- Image Text -->
                        <i>Some text</i>
                    </div>
                    <!-- Data Fields -->
                    <div style="flex-grow:1;font-size:.75em;">
                        
                        <div>
                            <span style="font-weight:bold;">
                                Description
                            </span><br/>
                            <span>{{keycap.desc}}</span>
                        </div>
                        

                    </div>
                </div>


            </div>

        </div>
        <!--##########################################-->
        <script type="text/javascript">

            Vue.component('text-field', {
                props: [
                    'editEnabled'
                ],
                data: function() {
                    return {
                        value: "Some Default",
                        editing: false
                    }
                },
                template: 
                    `<input type="text" v-if="editEnabled" placeholder="Text..." :value="value"/>
                    <span v-else>{{value}}</span>`
            });

            // ------------------------------------

            new Vue({
                el: '#cap-view-section',
                component: [
                    'edit-button',
                    'text-field'
                ],
                data: {
                    // --
                    editMode: false,
                    // --
                    keycap: {
                        name: 'No Name',
                        maker: 'Unknown',
                        image: 'jellykey_sphinctercell_don.jpg',
                        desc: 'Describe it!',
                        tags: ['A','B','C']
                    }
                },
                computed: {
                    imageURL: function() {
                        return 'image/' + this.keycap.image;
                    }
                }
            });
        


        </script>
    </body>
</html>